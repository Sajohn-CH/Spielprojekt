<?xml version="1.0" encoding="UTF-8"?>
<nifty xmlns="http://nifty-gui.sourceforge.net/nifty-1.3.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://nifty-gui.sourceforge.net/nifty-1.3.xsd http://nifty-gui.sourceforge.net/nifty-1.3.xsd">
  <screen id="hud" controller="mygame.HudScreenState">
        <layer id="background" childLayout="center">
             <text id="crosshair" height="100%" width="100%" text="+" font="Interface/Fonts/Arial.fnt"/>
        </layer>
        <layer childLayout="vertical">
            <panel height="87%" width="100%" childLayout="center">
                <image filename="Interface/opaque-0.png" imageMode="resize:40,490,110,170,40,560,40,270,40,560,40,40" width="100%" height="100%"></image>
            </panel>
            <panel height="13%" width="100%" childLayout="center">
                <panel height="90%" width="50%" childLayout="horizontal" backgroundColor="#000000">
                    <image filename="Interface/tower-1.png" width="20%" height="100%"/>
                    <image filename="Interface/tower-2.png" width="20%" height="100%"/> 
                    <image filename="Interface/tower-3.png" width="20%" height="100%"/>
                    <image filename="Interface/upgrade.png" width="20%" height="100%"/>
                    <image filename="Interface/healing.png" width="20%" height="100%"/>
                </panel>
            </panel>
        </layer>
        <layer id="foreground" childLayout="vertical">
            <panel id="top_bar" height="8%" width="100%" childLayout="vertical" backgroundColor="#000000">
                <panel id="bar" height="85%" width="100%" childLayout="horizontal">
                    <text id="money" text="Geld:" font="Interface/Fonts/Arial.fnt" width="25%" height="100%"/>
                    <text id ="wave" text="" font="Interface/Fonts/Arial.fnt" width="25%" height="100%" />
                    <text id="time" text="Time" font="Interface/Fonts/Arial.fnt" width="50%" height="100%" align="left"/>
                </panel>
                <panel id="beaconHealthBar" height="15%" width="100%" childLayout="horizontal" backgroundColor="#FF0000">
                    <text id="beaconHealth" text="100%" height="100%" width="100%" font="Interface/Fonts/Arial.fnt"/>
                </panel>
            </panel>
            
            <panel id="top" height="77%" width="100%" childLayout="center" >
                
            </panel>
           
           <text id="towerDescription" text="tower" height="2%" width="100%" font="Interface/Fonts/Arial.fnt"/>
            <panel id="bottom" height="13%" width="100%" childLayout="center" >
               <panel id="bottom_bar" height="100%" width="50%" childLayout="vertical" >
                    <panel id="healthPnl" height="10%" width="100%" childLayout="horizontal">
                        <panel id="healthBar" height="100%" width="100%" childLayout="horizontal" backgroundColor="#021FB0">
                            <text id="health" text="100%" height="100%" width="100%" font="Interface/Fonts/Arial.fnt" />
                        </panel>
                    </panel>
                    <panel id="items" height="90%" width="100%" childLayout="horizontal">
                        <image id="item-1" filename="Interface/item-frame-selected.png" width="20%" height="100%"/>
                        <image id="item-2" filename="Interface/item-frame.png" width="20%" height="100%"/>
                        <image id="item-3" filename="Interface/item-frame.png" width="20%" height="100%"/>
                        <image id="item-4" filename="Interface/item-frame.png" width="20%" height="100%"/>
                        <image id="item-5" filename="Interface/item-frame.png" width="20%" height="100%"/>
                    </panel>
               </panel>
            </panel>
        </layer>
        
        <layer id="debug" childLayout="vertical">
            <panel childLayout="center" width="100%" height="8%"/>
            <panel childLayout="horizontal" width="30%" height="30%" backgroundColor="#00000060">
                <panel childLayout="vertical" width="50%" height="100%">
                    <text text="Playerposition:" font="Interface/Fonts/Arial.fnt"/>
                </panel>
                 <panel childLayout="vertical" width="50%" height="100%">
                    <text id="PlayerPos" text="" font="Interface/Fonts/Arial.fnt"/>
                </panel>
            </panel>
            <panel childLayout="center" width="100%" height="70%"/>
        </layer>
    </screen>
    
    
    <!-- Viele ID sind mit einem # am Anfang da es sonst zu einer Fehlermeldung kommt (ids are not unique). -->
    <popup id="niftyPopupTower" childLayout="center" controller="mygame.HudScreenState" width="100%" height="100%">
       <!-- <interact onClick="closePopup(false)" onSecondaryClick="closePopup(false)" onTertiaryClick="closePopup(false)" /> -->
        <panel id="#foregroundPanel" childLayout="vertical" width="25%" height="25%" backgroundColor="#37BCEC">
             <text id="#title" text="" font="Interface/Fonts/Arial.fnt" width="100%" height="10%"/>
                <panel id="#labels" widht="100%" height="70%" childLayout="horizontal">
                    <panel id="#tags" width="50%" height="100%" childLayout="vertical">
                        <text text="Preis:" font="Interface/Fonts/Arial.fnt" width="100%" />
                        <text text="Schaden:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                        <text text="Lebenspunkte:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                        <text text="Schüsse pro Sekunde:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                        <text text="Reichweite:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    </panel>   
                    <panel id="#values" width="50%" height="100%" childLayout="vertical">
                        <text id="price" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                        <text id="damage" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                        <text id="health" text="" font="Interface/Fonts/Arial.fnt" width="100%" />
                        <text id="sps" text="" font="Interface/Fonts/Arial.fnt" width="100%" />  
                        <text id="range" text="" font="Interface/Fonts/Arial.fnt" width="100%" />  
                    </panel>
             </panel>
            <panel id="#buttons" childLayout="vertical" width="100%" height="30%">
                <control id="upgrade" name="button" label="Upgraden" align="center" valign="center" color="#000" visibleToMouse="true">
                    <interact onClick="closeTowerPopup(true)"/>
                </control>
                <control id="cancel" name="button" label="Abbrechen" align="center" valign="center" color="#ffffff" visibleToMouse="true">
                    <interact onClick="closeTowerPopup(false)"/>
                </control>
                <control id="removeTower" name="button" label="Turm Entfernen" align="center" valign="center" color="#ffffff" visibleToMouse="true">
                    <interact onClick="removeTower()"/>
                </control>
            </panel>
        </panel>
    </popup>
    
    <popup id="waveEndPopup" childLayout="center" controller="mygame.HudScreenState" width="100%" height="100%">
        <image id="#transparentBackground" filename="Interface/opaque-0.png" width="100%" height="100%"/>
        <panel id="#foregroundPanel" width="50%" height="45%" childLayout="vertical" backgroundColor="#00FFFF">
            <text text="Ende der Welle" id="#waveEnd" font="Interface/Fonts/Arial.fnt" width="100%"/>
            <text text="Playerupgrades"  font="Interface/Fonts/Arial.fnt" width="100%"/>
            <panel id="#playerUpgrades" childLayout="horizontal" height="60%">
                <panel id="#labels" width="40%" height="100%" childLayout="vertical">
                    <text text="Lebenspunkte:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text text="Schaden:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text text="Schüsse pro Sekunde:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text text="Reichweite:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text text="Geschwindigkeit:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text text="Spieler wiederbeleben:" font="Interface/Fonts/Arial.fnt" width="100%"/>
                </panel>
                <panel id="#values" width="40%" height="100%" childLayout="vertical">
                    <text id="#PLHealth" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text id="#PLDamage" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text id="#PLSPS" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text id="#PLRange" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                    <text id="#PLSpeed" text="" font="Interface/Fonts/Arial.fnt" width="100%"/>
                </panel>
                <panel id="#buyButtons" width="10%" height="100%" childLayout="vertical">
                    <control name="button" id="#PLHealthPrice" width="100%" label="${CALL.getHealthPrice()}$">
                        <interact onClick="upgradePlayerHealth()"/>
                    </control>
                    <control name="button" id="#PLDamagePrice" width="100%" label="${CALL.getDamagePrice()}$">
                        <interact onClick="upgradePlayerDamage()"/>
                    </control>
                    <control name="button" id="#PLSPSPrice" width="100%" label="${CALL.getSPSPrice()}$">
                        <interact onClick="upgradePlayerSPS()"/>
                    </control>
                    <control name="button" id="#PLRangePrice" width="100%" label="${CALL.getRangePrice()}$">
                        <interact onClick="upgradePlayerRange()"/>
                    </control>
                    <control name="button" id="#PLSpeedPrice" width="100%" label="${CALL.getSpeedPrice()}$">
                        <interact onClick="upgradePlayerSpeed()"/>
                    </control>
                    <control name="button" id="#PLRevive" width="100%" label="${CALL.getRevivePrice()}$">
                        <interact onClick="revivePlayer()"/>
                    </control>
                </panel> 
            </panel>
            <text text="Beaconupgrade" font="Interface/Fonts/Arial.fnt" width="100%"/>
            <panel id="#beaconUpgrade" width="90%" childLayout="horizontal">
                <text text="Lebenspunkte:" font="Interface/Fonts/Arial.fnt" width="50%"/>
                <text text="" id="#BeaconUpgrade" font="Interface/Fonts/Arial.fnt" width="40%"/>
                <control name="button" id="#BeaconBtn" label="${CALL.getBeaconUpgradePrice()}$" width="10%">
                    <interact onClick="upgradeBeacon()"/>
                </control>
            </panel>
            <control id="#nextWave" name="button" label="nächste Welle" align="center" valign="center" visibleToMouse="true">
                <interact onClick="nextWave()"/>
            </control>
        </panel>
    </popup>
    
        
</nifty>
